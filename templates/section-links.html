{% extends "base.html" %}

{% block content %}

{% set links = get_section(path="links/_index.md") %}

<section> 
    <section-title> 
        {% include "ionicons/link-outline.html" %}
        Worth Reading 
    </section-title>   

    <section-nav>
        <a href="/">
            {% include "ionicons/arrow-undo-outline.html" %}
             Home
        </a>
    </section-nav>

    {% set links = load_data(path="links/links.toml") %}

    <section-content>    
        <link-list>
            
            {% for it in links.links %}
            <link-item >
               <!-- https://web.archive.org/web/20250520160612/https://ktema.org/articles/the-overengineered-resume/  -->
            
                <link-item-title data-external-href="{{it.url}}"> 
                    {{ it.title }} 
                </link-item-title>

                {% if it.arc %}
                    <link-item-arc data-external-href="https://web.archive.org/web/{{it.arc}}/{{it.url}}"> 
                        {% include "ionicons/archive-outline.html" %} 
                    </link-item-arc>
                {% else %}
                    <link-item-arc data-external-href="https://web.archive.org/web/*/{{it.url}}"> 
                        {% include "ionicons/archive-outline.html" %} 
                    </link-item-arc>
                {% endif %}
            </link-item>
            {% endfor %}
            
        </link-list>
    </section-content>
    
</section>

<script>
    document.querySelectorAll('*').forEach(item => {
        const url = item.getAttribute('data-external-href');
        if (url) { 
            item.setAttribute('title', url);
            item.addEventListener('click', (e) => {
                window.open(url, '_blank');
            });
            
            // Make it keyboard accessible
            item.setAttribute('tabindex', '0');
            item.setAttribute('role', 'link');
            item.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    item.click();
                }
            });
        }
    });
</script>

{% endblock content %}