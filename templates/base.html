{% set resume = load_data(path=config.extra.resume_data) %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>{{ resume.basics.name }} | {{ resume.basics.label }}</title>
    
    <link rel="stylesheet" type="text/css" href="/css/styles.css"/>
    
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />
</head>
<body>
    {% include "base-header.html"  %}

    {% include "base-aside.html" %}

    {% include "base-nav.html" %}

    <main> 
        <article>
            {% block content %}
            {% endblock content %}
        </article>
    </main>

    {% include "base-footer.html"  %}


    <script>
        // Function to add copy buttons to all pre elements
        function addCopyButtons() {
            const preElements = document.querySelectorAll('pre');
            
            preElements.forEach((pre, index) => {
                // Skip if button already exists
                if (pre.querySelector('.copy-btn')) 
                    return;
                
                // Create wrapper div for positioning
                const wrapper = document.createElement('pre-wrapper');
                wrapper.style.position = 'relative';
                wrapper.style.display = 'inline-block';
                wrapper.style.width = '100%';
                
                // Insert wrapper before pre element
                pre.parentNode.insertBefore(wrapper, pre);
                wrapper.appendChild(pre);
                
                // Create copy button
                const copyBtn = document.createElement('button');
                copyBtn.className = 'copy-btn';
                copyBtn.innerHTML = 'Copy';
                copyBtn.setAttribute('aria-label', 'Copy code to clipboard');
                
                // Copy functionality
                copyBtn.addEventListener('click', async () => {
                    try {
                        const text = pre.textContent || pre.innerText;
                        await navigator.clipboard.writeText(text);
                        
                        // Visual feedback
                        const originalText = copyBtn.innerHTML;
                        copyBtn.innerHTML = 'Copied';
                        
                        //Reset after 2 seconds
                        setTimeout(() => {
                            copyBtn.innerHTML = originalText;
                        }, 1500);
                        
                    } catch (err) {
                        // Fallback for older browsers
                        // ...
                    }
                });
                
                // Add button to wrapper
                wrapper.appendChild(copyBtn);
            });
        }

        // Run when DOM is loaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', addCopyButtons);
        } else {
            addCopyButtons();
        }
    </script>

</body>
</html>
