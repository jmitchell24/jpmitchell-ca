{% set resume = load_data(path=config.extra.resume_data) %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ resume.basics.name }} | {{ resume.basics.label }}</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="styles-mobile.css">

</head>
<body>
    <header> 
        <nav>
            <div class="nav-buttons-desktop">
                <button class="nav-button-right" id="nav-button-right" style="display: none;">
                    <ion-icon name="chevron-forward-outline"></ion-icon>   
                </button>
    
                <button class="nav-button-left" id="nav-button-left"> 
                    <ion-icon name="chevron-back-outline"></ion-icon>
                </button>
            </div>
            
            <div class="nav-buttons-mobile" style="display: none;">
                <button> 
                    <ion-icon name="person-circle-outline"></ion-icon>
                </button>
            </div>
            

            <div class="nav-title">{{ resume.basics.name }}</div>

            <!-- <ul class="nav-links" id="navLinks">
                <li><a href="#home">Home</a></li>
                <li><a href="#about">Blog</a></li>
                <li><a href="#services">Projects</a></li>
                <li><a href="#portfolio">About</a></li>
                
            </ul> -->
        </nav>
    </header>

    <aside class="aside-collapse" id="aside-collapse">
        <div class="aside-portrait">
            <img src="{{resume.basics.image}}">
        </div>

        <div class="aside-text">
            <p class="title">{{ resume.basics.label }}</p>
            <div class="contact-info">
                <div class="contact-item">
                    <ion-icon name="mail-outline"></ion-icon>
                    <a href="mailto:{{ resume.basics.email }}">{{ resume.basics.email }}</a>
                </div>
                <div class="contact-item">
                    <ion-icon name="logo-github"></ion-icon>
                    <a href="https://github.com/jmitchell24" target="_blank">github.com/jmitchell24</a>
                </div>

                <div class="contact-item">
                    <ion-icon name="logo-twitter"></ion-icon>
                    <a href="https://x.com/jpmitchell_ca" target="_blank">x.com/jpmitchell_ca</a>
                </div>

                <div class="contact-item">
                    <ion-icon name="logo-stackoverflow"></ion-icon>
                    <a href="https://stackoverflow.com/users/1103084" target="_blank">stackoverflow.com</a>
                </div>
            </div>

            <p>üá®üá¶ üá©üá™ üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø</p>
            <p>Site Build Date: {{ now() | date(format="%B %d, %Y") }}</p>

        </div>
    </aside>

    <main> 
        <article>
            <section class="section">
                <h2 class="section-title">
                    <ion-icon name="person-outline"></ion-icon>
                    About Me
                </h2>

                <div class="mobile-only">

                    <div class="mobile-portrait">
                        <img src="{{resume.basics.image}}">
                    </div>

                    <div class="mobile-contact-info">
                        <div class="mobile-contact-item">
                            <ion-icon name="mail-outline"></ion-icon>
                            <a href="mailto:{{ resume.basics.email }}">{{ resume.basics.email }}</a>
                        </div>
                        <div class="mobile-contact-item">
                            <ion-icon name="logo-github"></ion-icon>
                            <a href="https://github.com/jmitchell24" target="_blank">github.com/jmitchell24</a>
                        </div>
        
                        <div class="mobile-contact-item">
                            <ion-icon name="logo-twitter"></ion-icon>
                            <a href="https://x.com/jpmitchell_ca" target="_blank">x.com/jpmitchell_ca</a>
                        </div>
        
                        <div class="mobile-contact-item">
                            <ion-icon name="logo-stackoverflow"></ion-icon>
                            <a href="https://stackoverflow.com/users/1103084" target="_blank">stackoverflow.com</a>
                        </div>
                    
                        <p>üá®üá¶ üá©üá™ üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø</p>
                        <p>Site Build Date: {{ now() | date(format="%B %d, %Y") }}</p>
                    </div>

                    
                </div>

                <p> {{ resume.basics.summary }} </p>
            </section>

            <section class="section">
                <h2 class="section-title">
                    <ion-icon name="hammer-outline"></ion-icon>
                    Skills
                </h2>
                <div class="skill-list">
                    <div class="skill-list">
                        {% for skill in resume.skills %}
                            <div class="skill-item" title="{{ skill.keywords | join(sep=', ') }}">{{ skill.name }}</div>
                        {% endfor %}
                    </div>
                </div>
            </section>

            <section class="section">
                <h2 class="section-title">
                    <ion-icon name="school-outline"></ion-icon>
                    Education
                </h2>

                {% for edu in resume.education %}
                <div class="education-item">
                    <div class="item-header">
                        <div class="item-title">{{ edu.area }} ({{ edu.studyType }})</div>
                        {% if edu.startDate and edu.endDate %}
                        <div class="item-date">
                            {{ edu.startDate | date(format="%b. %Y") }} ‚Äì {{ edu.endDate | date(format="%b. %Y") }}
                        </div>
                        {% elif edu.endDate %}
                        <div class="item-date">
                            {{ edu.endDate | date(format="%b. %Y") }}
                        </div>
                        {% endif %}
                    </div>
                    <div class="item-subtitle">{{ edu.institution }}</div>

                    {% if edu.highlights %}
                    <div class="item-description">
                        <ul>
                            {% for highlight in edu.highlights %}
                                <li>{{ highlight }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                    {% endif %}
                </div>
                {% endfor %}
            </section>

            <section class="section">
                <h2 class="section-title">
                    <ion-icon name="briefcase-outline"></ion-icon>
                    Experience
                </h2>

                {% for work in resume.work %}
                <div class="experience-item">
                    <div class="item-header">
                        <div class="item-title">{{ work.position }}</div>
                        {% if work.startDate and work.endDate %}
                        <div class="item-date">
                            {{ work.startDate | date(format="%b. %Y") }} ‚Äì {{ work.endDate | date(format="%b. %Y") }}
                        </div>
                        {% elif work.endDate %}
                        <div class="item-date">
                            {{ work.endDate | date(format="%b. %Y") }}
                        </div>
                        {% endif %}
                    </div>
                    <div class="item-subtitle">{{ work.name }}</div>
                    {% if work.highlights %}
                    <div class="item-description">
                        <ul>
                            {% for highlight in work.highlights %}
                                <li>{{ highlight }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                    {% endif %}
                </div>
                {% endfor %}
            </section>
        </article>
    </main>

    <footer>
        <p>&copy; {{ now() | date(format="%Y") }} {{ resume.basics.name }}. All rights reserved. </p>
        
    </footer>


    <script>
        var userWantsAside = true; 

        const mq = window.matchMedia("(max-width: 768px)"); 

        const navButtonLeft     = document.getElementById("nav-button-left"); 
        const navButtonRight    = document.getElementById("nav-button-right");

        const body  = document.getElementsByTagName("body")[0]; 
        const aside = document.getElementsByTagName("aside")[0]; 
        const main  = document.getElementsByTagName("main")[0]; 

        const isMobile = window.innerWidth < 768;

        // Desktop aside toggle 
        const doLeft = function() { 
            navButtonRight.style.display = "block"; 
            navButtonLeft.style.display = "none"; 

            body.style.gridTemplateColumns = "0 1fr";

            main.style.borderRadius = "0";
            main.style.margin = "0"; 
        }; 

        navButtonLeft.onclick = function() { 
            doLeft(); userWantsAside = false; 
        };

        const doRight = function() {
            navButtonRight.style.display = "none"; 
            navButtonLeft.style.display = "block"; 

            body.style.gridTemplateColumns = "250px 1fr";
            
            main.style.borderRadius = "var(--border-radius)";
            main.style.margin = "0 1rem"; 
        };
        
        navButtonRight.onclick = function() {
            doRight(); userWantsAside = true;
        };  

        // Media Query Handling

        mq.addEventListener('change', function(e) {
            if (e.matches) {
                doLeft();
            }
            else if (userWantsAside) {
                doRight();
            }
        });

    </script>

    <!-- <script>
        // Elements
        const navbar = document.getElementById('navbar');
        const hamburger = document.getElementById('hamburger');
        const navLinks = document.getElementById('navLinks');
    
    // Toggle mobile menu
    hamburger.addEventListener('click', () => {
      navLinks.classList.toggle('active');
      // Toggle hamburger icon
      hamburger.textContent = navLinks.classList.contains('active') ? '‚úï' : '‚ò∞';
    });
    
    // Close mobile menu when clicking a link
    document.querySelectorAll('.nav-links a').forEach(link => {
      link.addEventListener('click', () => {
        if (window.innerWidth <= 768) {
          navLinks.classList.remove('active');
          hamburger.textContent = '‚ò∞';
        }
      });
    });
    
    // Scroll effect for navbar
    window.addEventListener('scroll', () => {
      if (window.scrollY > 100) {
        navbar.classList.add('floating');
      } else {
        navbar.classList.remove('floating');
      }
    });
    
    // Handle window resize
    window.addEventListener('resize', () => {
      if (window.innerWidth > 768) {
        navLinks.classList.remove('active');
        hamburger.textContent = '‚ò∞';
      }
    });
    
    
    
    
    </script>  -->

    <script type="module" src="https://cdn.jsdelivr.net/npm/ionicons@latest/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/ionicons@latest/dist/ionicons/ionicons.js"></script>
</body>
</html>
